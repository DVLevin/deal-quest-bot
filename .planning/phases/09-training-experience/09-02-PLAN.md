---
phase: 09
plan: 02
type: feature
autonomous: true
wave: 1
depends_on: [09-01]
---

# Plan: Track Stats and Weak Area Identification

## Objective

Add per-track completion stats to the Learn page header and a weak area identification card to the Dashboard with "Practice this" CTA.

## Context

@packages/webapp/src/features/learn/components/TrackList.tsx
@packages/webapp/src/features/learn/hooks/useTrackProgress.ts
@packages/webapp/src/features/train/hooks/useTrainingStats.ts
@packages/webapp/src/pages/Dashboard.tsx
@packages/webapp/src/features/dashboard/components/QuickActions.tsx
@packages/webapp/src/lib/queries.ts

## Tasks

<task id="1" type="auto">
Create TrackStats component and wire into Learn page TrackList header

- Create `packages/webapp/src/features/learn/components/TrackStats.tsx`
- Consume data from existing `useTrackProgress('foundations')` hook
- Compute: levels completed count, average score (across completed levels), best score
- Display as compact summary card above the level list: "X/Y completed | Avg: NN | Best: NN"
- Handle edge cases: no completed levels shows "0/4 completed", no scores shows dashes
- Wire into `TrackList.tsx` between the track header and the level cards

**Done when:** TrackStats component renders above level cards in Learn page showing completion count, average score, and best score from track_progress data.
</task>

<task id="2" type="auto">
Create WeakAreasCard component and wire into Dashboard

- Create `packages/webapp/src/features/dashboard/components/WeakAreasCard.tsx`
- Reuse `useTrainingStats` hook for avgScoreByDifficulty data
- Identify weak areas: difficulties where avg score < 50 (below-average threshold)
- Also identify the Learn track's weakest level (lowest bestScore among completed levels) via useTrackProgress
- Display as a card with weak area items: difficulty label + avg score + "Practice this" button
- "Practice this" navigates to /train with no pre-selected difficulty (user lands on filter step)
- If no weak areas found, show encouraging "No weak spots!" message
- Wire into Dashboard.tsx between QuickActions and BadgePreview

**Done when:** WeakAreasCard appears on Dashboard highlighting difficulties/tracks with below-average scores and linking to Train page. TypeScript compiles cleanly.
</task>

## Verification

- `npx tsc --noEmit` passes
- Learn page shows track stats header with completion count and scores
- Dashboard shows weak areas card when user has below-average difficulty scores
- Dashboard shows encouraging message when no weak areas exist

## Success Criteria

- [ ] TRAIN-V11-02: Learn page displays per-track summary (levels completed, avg score, best score)
- [ ] TRAIN-V11-03: Dashboard highlights weak areas with "Practice this" CTA
- [ ] TypeScript compiles cleanly
- [ ] Both components handle empty data gracefully
