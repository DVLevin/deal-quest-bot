# Technology Stack

**Analysis Date:** 2026-02-04

## Languages

**Primary:**
- Python 3.11+ - Bot backend (`bot/` directory)
- TypeScript 5.9 - TMA frontend (`packages/webapp/`)

**Secondary:**
- JavaScript (Deno runtime) - Edge functions (`functions/`)

## Runtime

**Environment:**
- Python 3.11 (production via Railway Nixpacks)
- Python 3.13.0 (local development)
- Node.js v23.3.0 (local development)
- Deno 2.0.6 (InsForge Edge Functions runtime)

**Package Manager:**
- pnpm 10.28.2 (frontend monorepo)
- Lockfile: `pnpm-lock.yaml` present
- pip (Python bot)
- Lockfile: None (uses `requirements.txt` directly)

## Frameworks

**Core:**
- aiogram 3.4.0+ - Async Telegram bot framework
- React 18.3.1 - TMA frontend UI
- Vite 7.3.0 - Frontend build tool and dev server

**Testing:**
- Not detected (no test framework in dependencies)

**Build/Dev:**
- Vite 7.3.0 - Frontend bundler with SWC React plugin
- Tailwind CSS 4.1.0 - Utility-first CSS framework
- @tailwindcss/vite - Tailwind v4 Vite integration
- vite-plugin-mkcert - Local HTTPS for Telegram Mini App dev
- vite-tsconfig-paths - TypeScript path alias resolution

## Key Dependencies

**Critical:**
- httpx 0.27.0+ - Async HTTP client for InsForge PostgREST and LLM APIs
- @insforge/sdk latest - InsForge database client (TypeScript)
- pydantic 2.6.0+ - Data validation and settings management
- pydantic-settings 2.2.0+ - Environment-based configuration
- cryptography 42.0.0+ - Fernet encryption for API key storage
- anthropic 0.40.0+ - Claude API client

**Infrastructure:**
- @telegram-apps/sdk-react 3.3.9 - Telegram Mini App SDK integration
- @tanstack/react-query 5.90.0+ - Server state management
- zustand 5.0.10+ - Client state management
- react-router 7.12.0+ - TMA routing
- serve 14.0.0+ - Production static file server

**UI Components:**
- lucide-react 0.562.0+ - Icon library
- class-variance-authority 0.7.0+ - Component variant API
- clsx 2.0.0+ - Conditional className utilities
- tailwind-merge 3.0.0+ - Tailwind class conflict resolution
- eruda 3.4.3 - Mobile debugging console

**Development:**
- @vitejs/plugin-react-swc - Fast React compilation via SWC
- python-dotenv 1.0.1+ - Load .env files (Python)
- pyyaml 6.0.1+ - YAML pipeline configs and memory storage

## Configuration

**Environment:**
- Python bot: `.env` file via `pydantic-settings` (BaseSettings)
- TMA: `VITE_*` prefixed vars baked into bundle at build time
- Required vars: `TELEGRAM_BOT_TOKEN`, `ENCRYPTION_KEY`, `INSFORGE_BASE_URL`, `INSFORGE_ANON_KEY`, `OPENROUTER_API_KEY`
- Optional: `ASSEMBLYAI_API_KEY`, `ADMIN_USERNAMES`, `ALLOWED_USERNAMES`, `LOG_LEVEL`

**Build:**
- `railway.toml` - Bot deployment config (Nixpacks, Python 3.11)
- `packages/webapp/railway.toml` - TMA static serving config
- `tsconfig.json` - TypeScript strict mode, ES2020 target, path aliases
- `vite.config.ts` - React SWC, Tailwind v4, mkcert, tsconfigPaths plugins
- `pnpm-workspace.yaml` - Monorepo workspace definition (`packages/*`)

## Platform Requirements

**Development:**
- Python 3.11+ with venv
- Node.js 23+ (or compatible LTS)
- pnpm 10.28.2
- HTTPS certificates for local TMA dev (auto-generated by mkcert plugin)

**Production:**
- Railway (bot): Nixpacks builder, Python 3.11 runtime
- Railway (TMA): Static SPA serving via `serve` package
- InsForge: Deno 2.0.6 runtime for edge functions
- PostgreSQL via InsForge (no direct connection, all via PostgREST)

---

*Stack analysis: 2026-02-04*
